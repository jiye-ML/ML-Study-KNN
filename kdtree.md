## kd树的相关知识

* [k-d tree算法](https://www.cnblogs.com/eyeszjwang/articles/2429382.html)
    * k-d树（k-dimensional树的简称），是一种分割k维数据空间的数据结构。主要应用于多维空间关键数据的搜索（如：范围搜索和最近邻搜索）。
    * SIFT算法中做特征点匹配的时候就会利用到k-d树。而特征点匹配实际上就是一个通过距离函数在高维矢量之间进行相似性检索的问题。
    针对如何快速而准确地找到查询点的近邻，现在提出了很多高维空间索引结构和近似查询的算法，k-d树就是其中一种。
    * 特征匹配算子大致可以分为两类。
        1. 线性扫描法，即将数据集中的点与查询点逐一进行距离比较，也就是穷举，缺点很明显，
        就是没有利用数据集本身蕴含的任何结构信息，搜索效率较低;
        2. 建立数据索引，然后再进行快速匹配。因为实际数据一般都会呈现出簇状的聚类形态， 通过设计有效的索引结构可以大大加快检索的速度。
        索引树属于第二类，其基本思想就是对搜索空间进行层次划分。根据划分的空间是否有混叠可以分为Clipping和Overlapping两种。
        前者划分空间没有重叠，其代表就是k-d树；后者划分空间相互有交叠，其代表为R树。（这里只介绍k-d树）
    * k-d树算法可以分为两大部分
        1. 有关k-d树本身这种数据结构建立的算法，
        2. 在建立的k-d树上如何进行最邻近查找的算法~~~~。\
        ![](readme/kd_tree_01.png)
        
* [kd 树算法之思路篇](https://www.joinquant.com/post/2627)
    * 通俗易懂
* [【数学】kd 树算法之详细篇](https://zhuanlan.zhihu.com/p/23966698)

### 总结：
* 建立：
    1. 获得所有点
    2. 计算每一个维度的方差, 方差最大的维度区分度最好
    3. 得到的维度上排序，获得中间的点，
    4. 根据中间的点二叉分所有点
    5. 持续上面过程，指导只剩下一个点

* 搜索
    1. 从根节点开始，根据记录的split轴， 向下搜索，记录路径所有点
    2. 到达叶子结点， 计算叶子结点和该点的距离
    3. 向上到父节点， 查看父节点和该点距离，更小就更新最近邻结点
    4. 计算该点和父节点划分的轴的距离，如果距离更小，就开始搜索父节点的另一个子节点
    5. 到达根节点，结束搜索。

